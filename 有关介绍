作者：roysue
链接：https://zhuanlan.zhihu.com/p/23224424
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

译者：tree_fly(看雪ID：treefly)
原文链接：GitHub - integrity-sa/Introspy-iOS: Security profiling for blackbox iOS 原文作者：integrity-sa
http://weixin.qq.com/r/vzg-JznEPmRBrX1E922t (二维码自动识别)

http://www.weibo.com/p/1005056019441720?from=qrcode&frwbqr=53 (二维码自动识别)

微信公众号：看雪iOS安全小组 我们的微博：看雪iOS小组的微博
我们的知乎：roysue
加入我们：看雪iOS安全小组成员募集中：iOS安全小组成员招募中
[看雪iOS安全小组]置顶向导集合贴： ［新人请看］[看雪iOS安全小组]置顶向导集合贴
完整版PDF下载：005.iOS软件在运行时究竟做了什么：Introspy-iOS.pdf

引用:
Blackbox工具可用来协助分析iOS应用程序在运行时做了什么,并挖掘潜在的安全问题。
有关介绍，请查阅： Introspy


描述

安装在越狱设备上的追踪器，可以劫持和记录正在运行应用程序所调用的与安全相关的敏感API。
工具可以记录并存储到数据库的内容包括API调用的详细信息，如参数和返回值等。
此外，也可以实时查看和分析正在监视的API调用信息。
Introspy-Analyzer依据数据库信息，执行一个Python脚本后可创建包含函数调用列表的HTML报告以及潜在的漏洞影响应用程序列表。 Introspy-Analyzer托管在单独的存储库：GitHub - iSECPartners/Introspy-Analyzer

安装

请下载最新版本:
Releases · integrity-sa/Introspy-iOS · GitHub
早期版本：
Releases · iSECPartners/Introspy-iOS · GitHub
依赖内容
仅支持越狱设备. 使用Cydia时请确保已安装如下的依赖包：
- dpkg
- Cydia Substrate
- PreferenceLoader
- Applist


如何安装

下载并复制安装包到设备中，安装即可:
代码:
scp <package.deb> root@<device_ip>:~
ssh root@<device_ip>
dpkg -i <package.deb>
重启SpringBoard：
代码:
killall -HUP SpringBoard
安装成功后，在设置中有2个菜单，Apps菜单允许你选择对应的程序，Settings菜单可以设置被劫持的API接口。
最后，记得关闭并重新启动被监控的程序。

如何卸载
代码:
dpkg -r com.isecpartners.introspy
生成Html报告
跟踪器会记录程序调用的API相关信息，并存储到数据库中（事实上每个程序都有独立的文件夹）
使用Introspy-Analyzer的脚本，让数据分析变得更加容易，而且可以分析和标记危险的API调用，以方便在iOS应用程序中识别漏洞。
Introspy-Analyzer托管在单独的存储库:
GitHub - iSECPartners/Introspy-Analyzer


编译 Introspy-iOS

大部分的使用者只要下载和安装预编译的Debian包即可，如果你想修改功能，自行编译即可。
安装包要求设备安装Theos，参阅 https://github.com/theos/theos， 以及Theos的安装文档
Installation · theos/theos Wiki · GitHub.

需要在环境变量中设置 $THEOS , 参考代码：
代码:
export THEOS=/absolute/path/to/theos
export PATH=$THEOS/bin:$PATH
编译和生成安装包:
代码:
make package
成功编译和生成安装包后，设置好设备的IP地址，随后Theos可以自动将安装包安装到设备中，并重启SpringBoard，代码如下:
代码:
export THEOS_DEVICE_IP=192.168.1.127
make install
许可证
查阅 ./LICENSE.

作者
•Tom Daniels
•Alban Diquet

维护者
Herman Duarte
开启赞赏
